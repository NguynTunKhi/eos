{{extend 'layout_master.html'}}

<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-10">
        <h2>{{=T('TITLE_USER_LIST')}}</h2>
        <ol class="breadcrumb">
            <li><a >{{=T('Home')}}</a></li>
            <li><a>{{=T('Administrator')}}</a></li>
            <li class="active"><strong>{{=T('User list')}}</strong></li>
        </ol>
    </div>
    <div class="col-lg-2">

    </div>
</div>
<br>
<div class="row">
    <div class="ibox float-e-margins">

        <div class="ibox-title">
            <div class="row">
                <div class="col-sm-12">
                    <div class="input-group">
                        <input type="text" data-forDT="0" name="sometext" class="form-control" id="sometext" placeholder="{{=T('Search')}}">
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-primary btnSearch" forDT="0" id="btn_search">{{=T('Go!')}}</button>
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div class="ibox-content">
            <table id='custom_datatable_0' class='table table-striped table-bordered table-hover dataTables-example' 
                data-url="{{=URL('call/json/get_list_usr')}}">
                <thead>
                    <tr>
                        <th>{{=T('#')}}</th>
                        <th>{{=T('Username')}}</th>
                        <th>{{=T('Fullname')}}</th>
                        <th>{{=T('Email')}}</th>
                        <th>{{=T('LBL_AUTH_USER_TYPE')}}</th>
                        <th>{{=T('Status')}}</th>
                        <th><input type='checkbox' class='select_all' group="0" /></th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
            <div class="hr-line-dashed"></div>
            <div class='row'>
                <div class="col-sm-12 text-right">
                    {{if auth.has_permission('delete', 'users'):}}
                    <a class='btn btn-primary ' type='button' href='{{=URL("form")}}'>
                        <i class="fa fa-plus"></i>&nbsp;{{=T('BTN_CREATE')}}</a>
                    {{pass}}
                    {{if auth.has_permission('delete', 'users'):}}
                    <a id='btnDelete' class='btn btn-primary  btnDisabled' type='button' href='javascript:void(0);'
                        data-url="{{=URL('call/json/del_records/auth_user')}}"
                        data-iTable="0"
                        data-confirm="{{=T('MSG_CONFIRM_DELETE')}}"
                        onclick="app.executeFunction(this);"><i class="fa fa-trash fa-white"></i>&nbsp;{{=T('BTN_DELETE')}}</a>
                    {{pass}}
                    <a class='btn btn-primary ' type='button' href='javascript: window.history.back();'>
                        <i class="fa fa-undo fa-white"></i>&nbsp;{{=T('BTN_BACK')}}</a>
                </div>
            </div>
        </div>
        
    </div>
</div>

{{ block js }}
    <script type="text/javascript" src="{{=URL('static', 'js/DataTables/custom_datatables.js?v=1')}}"></script>
{{ block }}